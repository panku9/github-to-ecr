{"ast":null,"code":"import _classCallCheck from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{withStyles}from\"@material-ui/core/styles\";import React from\"react\";import{connect}from\"react-redux\";import{Link,Navigate}from\"react-router-dom\";import{logoutUser,getAdminDetails}from\"../../../redux/actions/loginAction\";import{getDashboardCount}from\"../../../redux/actions/dashboardDetails\";import Auth from\"../../../services/Auth\";import{HomepageHeader}from\"../../basic/header/header\";import logoImg from'../../basic/Homepage/main.jpg';import{MainCard}from\"../Card/card\";import TeacherImg from'../teacher.png';import StudentImg from'../student.jfif';import SubjectImg from'../subject.jfif';import TeacherTable from\"../teacherTable/teacherTable\";import SubjectTable from\"../subjectTable/subjectTable\";import StudentTable from\"../studentTable/studentTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=function useStyles(theme){return{logout_btn:{marginLeft:'80%'},headerMargin:{marginTop:80},inlineblock:{display:'inline-block'},linkbtn:{color:'black'}};};var DashboardMain=/*#__PURE__*/function(_React$Component){_inherits(DashboardMain,_React$Component);var _super=_createSuper(DashboardMain);function DashboardMain(props){var _this;_classCallCheck(this,DashboardMain);_this=_super.call(this,props);_this.state={};_this.expand=\"none\";return _this;}_createClass(DashboardMain,[{key:\"logout\",value:function logout(obj){obj.props.logoutUser();obj.forceUpdate();}},{key:\"handleTableExapand\",value:function handleTableExapand(type){console.log(\"handle table\");if(type===this.expand){this.expand=\"none\";}else{this.expand=type;}this.forceUpdate();}},{key:\"render\",value:function render(){var _this2=this;console.log(this.props.user);if(!Auth.retriveToken()||Auth.retriveToken()==='undefined'){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}else if(!this.props.user.isLoggedIn){this.props.getAdminDetails();return/*#__PURE__*/_jsx(\"div\",{});}else{if(!this.props.dashboardDetails.retrived){this.props.getDashboardCount();}var x;if(this.expand===\"Teacher\"){x=/*#__PURE__*/_jsx(TeacherTable,{});}else if(this.expand===\"Student\"){x=/*#__PURE__*/_jsx(StudentTable,{});}else if(this.expand===\"Subject\"){x=/*#__PURE__*/_jsx(SubjectTable,{});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HomepageHeader,{title:\"Exam Portal\",img:logoImg}),/*#__PURE__*/_jsx(\"div\",{className:this.props.classes.headerMargin}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.logout(_this2);},className:this.props.classes.logout_btn,children:\"Logout\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MainCard,{title:\"Teacher\",value:this.props.dashboardDetails.teacherActive,total:this.props.dashboardDetails.teacherActive+this.props.dashboardDetails.teacherBlocked,image:TeacherImg}),/*#__PURE__*/_jsxs(\"div\",{className:this.props.classes.inlineblock,children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/addTeacher\",className:this.props.classes.linkbtn,children:\"Add Teacher\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleTableExapand(\"Teacher\");},children:\"Show\"})]}),/*#__PURE__*/_jsx(MainCard,{title:\"Student\",value:this.props.dashboardDetails.studentActive,total:this.props.dashboardDetails.studentActive+this.props.dashboardDetails.studentBlocked,image:StudentImg}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleTableExapand(\"Student\");},children:\"Show\"}),/*#__PURE__*/_jsx(MainCard,{title:\"Subject\",value:this.props.dashboardDetails.subjectActive,total:this.props.dashboardDetails.subjectActive+this.props.dashboardDetails.subjectBlocked,image:SubjectImg}),/*#__PURE__*/_jsxs(\"div\",{className:this.props.classes.inlineblock,children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/addSubject\",className:this.props.classes.linkbtn,children:\"Add Subject\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleTableExapand(\"Subject\");},children:\"Show\"})]}),/*#__PURE__*/_jsx(\"br\",{}),x]});}}}]);return DashboardMain;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user,dashboardDetails:state.dashboardDetails};};export default withStyles(useStyles)(connect(mapStateToProps,{logoutUser:logoutUser,getAdminDetails:getAdminDetails,getDashboardCount:getDashboardCount})(DashboardMain));","map":{"version":3,"sources":["/var/www/html/ecs-repo/src/components/Dashboard/Main/dashboradMain.js"],"names":["withStyles","React","connect","Link","Navigate","logoutUser","getAdminDetails","getDashboardCount","Auth","HomepageHeader","logoImg","MainCard","TeacherImg","StudentImg","SubjectImg","TeacherTable","SubjectTable","StudentTable","useStyles","theme","logout_btn","marginLeft","headerMargin","marginTop","inlineblock","display","linkbtn","color","DashboardMain","props","state","expand","obj","forceUpdate","type","console","log","user","retriveToken","isLoggedIn","dashboardDetails","retrived","x","classes","logout","teacherActive","teacherBlocked","handleTableExapand","studentActive","studentBlocked","subjectActive","subjectBlocked","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import { withStyles} from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport { logoutUser, getAdminDetails } from \"../../../redux/actions/loginAction\";\nimport { getDashboardCount } from \"../../../redux/actions/dashboardDetails\";\nimport Auth from \"../../../services/Auth\";\nimport { HomepageHeader } from \"../../basic/header/header\";\nimport logoImg from '../../basic/Homepage/main.jpg'\nimport { MainCard } from \"../Card/card\";\nimport TeacherImg from '../teacher.png';\nimport StudentImg from '../student.jfif';\nimport SubjectImg from '../subject.jfif';\nimport TeacherTable from \"../teacherTable/teacherTable\";\nimport SubjectTable from \"../subjectTable/subjectTable\";\nimport StudentTable from \"../studentTable/studentTable\";\n\nconst useStyles = (theme)=>({\n  logout_btn : {\n    marginLeft : '80%'\n  },\n  headerMargin : {\n    marginTop : 80\n  },\n  inlineblock : {\n    display : 'inline-block'\n  },\n  linkbtn : {\n    color:'black'\n  }\n})\n\nclass DashboardMain extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.expand = \"none\"\n  }\n\n  logout(obj) {\n    obj.props.logoutUser();\n    obj.forceUpdate();\n  }\n\n  handleTableExapand(type) {\n    console.log(\"handle table\")\n    if(type === this.expand) {\n      this.expand = \"none\"\n    } else {\n      this.expand = type\n    }\n    this.forceUpdate();\n  }\n\n  render(){\n    console.log(this.props.user);\n    if(!Auth.retriveToken() || Auth.retriveToken()==='undefined'){\n      return (<Navigate to='/'/>);\n    } else if(!this.props.user.isLoggedIn) {\n      this.props.getAdminDetails();\n      return (<div></div>);\n    } else {\n      if(!this.props.dashboardDetails.retrived){\n        this.props.getDashboardCount();\n      }\n      let x;\n      if(this.expand === \"Teacher\") {\n        x = <TeacherTable/>;\n      } else if (this.expand === \"Student\") {\n        x = <StudentTable/>;\n      } else if (this.expand === \"Subject\") {\n        x = <SubjectTable/>;\n      }\n        return (\n          <div>\n            <HomepageHeader title='Exam Portal' img={logoImg}/>\n            <div className={this.props.classes.headerMargin}></div>\n            <button onClick={()=>(this.logout(this))} className={this.props.classes.logout_btn} >Logout</button>\n            <br/>\n            <MainCard title='Teacher' value={this.props.dashboardDetails.teacherActive} total={this.props.dashboardDetails.teacherActive + this.props.dashboardDetails.teacherBlocked}  image={TeacherImg} />\n            <div className={this.props.classes.inlineblock}>\n              <button ><Link to=\"/addTeacher\" className={this.props.classes.linkbtn}>Add Teacher</Link></button>\n              <br/>\n              <button onClick={()=>(this.handleTableExapand(\"Teacher\"))}>Show</button>\n            </div>\n            <MainCard title='Student' value={this.props.dashboardDetails.studentActive} total={this.props.dashboardDetails.studentActive + this.props.dashboardDetails.studentBlocked} image={StudentImg} />\n            <button onClick={()=>(this.handleTableExapand(\"Student\"))}>Show</button>\n            <MainCard title='Subject' value={this.props.dashboardDetails.subjectActive} total={this.props.dashboardDetails.subjectActive + this.props.dashboardDetails.subjectBlocked} image={SubjectImg} />\n            <div className={this.props.classes.inlineblock}>\n              <button ><Link to=\"/addSubject\" className={this.props.classes.linkbtn}>Add Subject</Link></button>\n              <br/>\n              <button onClick={()=>(this.handleTableExapand(\"Subject\"))}>Show</button>\n            </div>\n            <br/>\n\n            {x}\n          </div>\n        );\n\n    }\n    \n  }\n}\n\nconst mapStateToProps = state => ({\n  user:state.user,\n  dashboardDetails:state.dashboardDetails\n});\n\nexport default withStyles(useStyles)(connect(mapStateToProps,{\n  logoutUser,\n  getAdminDetails,\n  getDashboardCount,\n})(DashboardMain));\n"]},"metadata":{},"sourceType":"module"}
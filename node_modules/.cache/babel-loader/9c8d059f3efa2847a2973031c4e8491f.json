{"ast":null,"code":"import _objectSpread from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{connect}from\"react-redux\";import{Link,Navigate}from\"react-router-dom\";import Alert from\"../../../services/alert\";import Auth from\"../../../services/Auth\";import{getAdminDetails}from\"../../../redux/actions/loginAction\";import\"./AddSubject.css\";import axios from\"axios\";import apis from\"../../../services/Apis\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddSubject=/*#__PURE__*/function(_React$Component){_inherits(AddSubject,_React$Component);var _super=_createSuper(AddSubject);function AddSubject(props){var _this;_classCallCheck(this,AddSubject);_this=_super.call(this,props);_this.nameInputHandler=function(event){_this.setState(_objectSpread(_objectSpread({},_this.state),{},{name:event.target.value}));};_this.handleSubmit=function(event){event.preventDefault();console.log(_this.state);axios.post(apis.BASE+apis.ADD_SUBJECT,{name:_this.state.name},{headers:{'Authorization':\"Bearer \".concat(Auth.retriveToken())}}).then(function(response){console.log(response.data);if(response.data.success){Alert('info','Success',response.data.message);}else{Alert('error','Failed',response.data.message);}});};_this.state={name:\"\"};return _this;}_createClass(AddSubject,[{key:\"render\",value:function render(){if(!Auth.retriveToken()||Auth.retriveToken()==='undefined'){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}else if(!this.props.user.isLoggedIn){this.props.getAdminDetails();return/*#__PURE__*/_jsx(\"div\",{});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form-class\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Subject\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Name \"}),/*#__PURE__*/_jsx(\"input\",{type:\"Text\",value:this.state.name,onChange:this.nameInputHandler,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Add Subject\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{children:[\" \",/*#__PURE__*/_jsx(Link,{className:\"linkbtn\",to:\"/home\",children:\"back\"})]})]});}}]);return AddSubject;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};export default connect(mapStateToProps,{getAdminDetails:getAdminDetails})(AddSubject);","map":{"version":3,"sources":["/var/www/html/ecs-repo/src/components/Dashboard/AddSubject/AddSubject.js"],"names":["React","connect","Link","Navigate","Alert","Auth","getAdminDetails","axios","apis","AddSubject","props","nameInputHandler","event","setState","state","name","target","value","handleSubmit","preventDefault","console","log","post","BASE","ADD_SUBJECT","headers","retriveToken","then","response","data","success","message","user","isLoggedIn","Component","mapStateToProps"],"mappings":"2gBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAASC,eAAT,KAAgC,oCAAhC,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,2FAEMC,CAAAA,U,oHACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EADiB,MAOnBC,gBAPmB,CAOA,SAACC,KAAD,CAAS,CAC1B,MAAKC,QAAL,gCACK,MAAKC,KADV,MAEEC,IAAI,CAAGH,KAAK,CAACI,MAAN,CAAaC,KAFtB,IAID,CAZkB,OAgBnBC,YAhBmB,CAgBL,SAACN,KAAD,CAAW,CACvBA,KAAK,CAACO,cAAN,GAEAC,OAAO,CAACC,GAAR,CAAY,MAAKP,KAAjB,EACAP,KAAK,CAACe,IAAN,CAAWd,IAAI,CAACe,IAAL,CAAYf,IAAI,CAACgB,WAA5B,CAAyC,CACvCT,IAAI,CAAG,MAAKD,KAAL,CAAWC,IADqB,CAAzC,CAEE,CACAU,OAAO,CAAC,CACN,iCAA0BpB,IAAI,CAACqB,YAAL,EAA1B,CADM,CADR,CAFF,EAMGC,IANH,CAMQ,SAAAC,QAAQ,CAAI,CAClBR,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACC,IAArB,EACA,GAAGD,QAAQ,CAACC,IAAT,CAAcC,OAAjB,CAA0B,CACxB1B,KAAK,CAAC,MAAD,CAAQ,SAAR,CAAkBwB,QAAQ,CAACC,IAAT,CAAcE,OAAhC,CAAL,CACD,CAFD,IAEO,CACL3B,KAAK,CAAC,OAAD,CAAS,QAAT,CAAkBwB,QAAQ,CAACC,IAAT,CAAcE,OAAhC,CAAL,CACD,CACF,CAbD,EAcD,CAlCkB,CAEjB,MAAKjB,KAAL,CAAa,CACXC,IAAI,CAAG,EADI,CAAb,CAFiB,aAKlB,C,6CA+BD,iBAAQ,CACN,GAAG,CAACV,IAAI,CAACqB,YAAL,EAAD,EAAwBrB,IAAI,CAACqB,YAAL,KAAsB,WAAjD,CAA6D,CAC3D,mBAAQ,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAR,CACD,CAFD,IAEO,IAAG,CAAC,KAAKhB,KAAL,CAAWsB,IAAX,CAAgBC,UAApB,CAAgC,CACrC,KAAKvB,KAAL,CAAWJ,eAAX,GACA,mBAAQ,cAAR,CACD,CACD,mBAEE,cAAM,QAAQ,CAAE,KAAKY,YAArB,CAAmC,SAAS,CAAC,YAA7C,wBACE,mCADF,cAEE,oCACE,iCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKJ,KAAL,CAAWC,IAArC,CAA2C,QAAQ,CAAE,KAAKJ,gBAA1D,CAA4E,QAAQ,KAApF,EAFF,GAFF,cAOE,eAAQ,IAAI,CAAC,QAAb,0BAPF,cAQE,aARF,cASE,2CAAS,KAAC,IAAD,EAAM,SAAS,CAAC,SAAhB,CAA0B,EAAE,CAAC,OAA7B,kBAAT,GATF,GAFF,CAcD,C,wBA1DsBX,KAAK,CAACkC,S,EA6D/B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAArB,KAAK,QAAK,CAChCkB,IAAI,CAAClB,KAAK,CAACkB,IADqB,CAAL,EAA7B,CAIA,cAAe/B,CAAAA,OAAO,CAACkC,eAAD,CAAiB,CACrC7B,eAAe,CAAfA,eADqC,CAAjB,CAAP,CAEZG,UAFY,CAAf","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport Alert from \"../../../services/alert\";\nimport Auth from \"../../../services/Auth\";\nimport { getAdminDetails } from \"../../../redux/actions/loginAction\";\nimport \"./AddSubject.css\"\nimport axios from \"axios\";\nimport apis from \"../../../services/Apis\";\n\nclass AddSubject extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name : \"\"\n    }\n  }\n\n  nameInputHandler = (event)=>{\n    this.setState({\n      ...this.state,\n      name : event.target.value\n    });\n  }\n\n  \n  \n  handleSubmit= (event) => {\n    event.preventDefault();\n    \n    console.log(this.state);\n    axios.post(apis.BASE + apis.ADD_SUBJECT, {\n      name : this.state.name\n    },{\n      headers:{\n        'Authorization':`Bearer ${Auth.retriveToken()}`\n      }\n    }).then(response => {\n      console.log(response.data);\n      if(response.data.success) {\n        Alert('info','Success',response.data.message);\n      } else {\n        Alert('error','Failed',response.data.message);\n      }\n    })\n  }\n\n  render(){\n    if(!Auth.retriveToken() || Auth.retriveToken()==='undefined'){\n      return (<Navigate to='/'/>);\n    } else if(!this.props.user.isLoggedIn) {\n      this.props.getAdminDetails();\n      return (<div></div>)\n    }\n    return (\n      \n      <form onSubmit={this.handleSubmit} className=\"form-class\">\n        <h2>Add Subject</h2>\n        <div>\n          <label> Name </label>\n          <input type='Text' value={this.state.name} onChange={this.nameInputHandler} required/>\n        </div>\n        \n        <button type=\"submit\"> Add Subject</button>\n        <br/>\n        <button> <Link className=\"linkbtn\" to='/home'>back</Link></button>\n      </form>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user:state.user\n});\n\nexport default connect(mapStateToProps,{\n  getAdminDetails\n})(AddSubject);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/ecs-repo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{connect}from\"react-redux\";import{Link,Navigate}from\"react-router-dom\";import Alert from\"../../../services/alert\";import Auth from\"../../../services/Auth\";import{getAdminDetails}from\"../../../redux/actions/loginAction\";import\"./AddTeacher.css\";import axios from\"axios\";import apis from\"../../../services/Apis\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTeacher=/*#__PURE__*/function(_React$Component){_inherits(AddTeacher,_React$Component);var _super=_createSuper(AddTeacher);function AddTeacher(props){var _this;_classCallCheck(this,AddTeacher);_this=_super.call(this,props);_this.nameInputHandler=function(event){_this.setState(_objectSpread(_objectSpread({},_this.state),{},{name:event.target.value}));};_this.emailInputHandler=function(event){_this.setState(_objectSpread(_objectSpread({},_this.state),{},{email:event.target.value}));};_this.passwordInputHandler=function(event){_this.setState(_objectSpread(_objectSpread({},_this.state),{},{password:event.target.value}));};_this.confirmInputHandler=function(event){_this.setState(_objectSpread(_objectSpread({},_this.state),{},{confirmpassword:event.target.value}));};_this.handleSubmit=function(event){event.preventDefault();if(_this.state.confirmpassword!==_this.state.password){Alert('error','Invalid Input','Confirm Password does not match');}console.log(_this.state);axios.post(apis.BASE+apis.ADD_TEACHER,{username:_this.state.name,email:_this.state.email,password:_this.state.password},{headers:{'Authorization':\"Bearer \".concat(Auth.retriveToken())}}).then(function(response){console.log(response.data);if(response.data.success){Alert('info','Success',response.data.message);}else{Alert('error','Failed',response.data.message);}});};_this.state={name:\"\",email:\"\",password:\"\",confirmpassword:\"\"};return _this;}_createClass(AddTeacher,[{key:\"render\",value:function render(){if(!Auth.retriveToken()||Auth.retriveToken()==='undefined'){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}else if(!this.props.user.isLoggedIn){this.props.getAdminDetails();return/*#__PURE__*/_jsx(\"div\",{});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form-class\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Teacher\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Name \"}),/*#__PURE__*/_jsx(\"input\",{type:\"Text\",value:this.state.name,onChange:this.nameInputHandler,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Email \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:this.state.email,onChange:this.emailInputHandler,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Password \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:this.state.password,onChange:this.passwordInputHandler,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Confirm Password \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:this.state.confirmpassword,onChange:this.confirmInputHandler,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Add Teacher\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{children:[\" \",/*#__PURE__*/_jsx(Link,{className:\"linkbtn\",to:\"/home\",children:\"back\"})]})]});}}]);return AddTeacher;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};export default connect(mapStateToProps,{getAdminDetails:getAdminDetails})(AddTeacher);","map":{"version":3,"sources":["/var/www/html/ecs-repo/src/components/Dashboard/AddTeacher/AddTeacher.js"],"names":["React","connect","Link","Navigate","Alert","Auth","getAdminDetails","axios","apis","AddTeacher","props","nameInputHandler","event","setState","state","name","target","value","emailInputHandler","email","passwordInputHandler","password","confirmInputHandler","confirmpassword","handleSubmit","preventDefault","console","log","post","BASE","ADD_TEACHER","username","headers","retriveToken","then","response","data","success","message","user","isLoggedIn","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport Alert from \"../../../services/alert\";\nimport Auth from \"../../../services/Auth\";\nimport { getAdminDetails } from \"../../../redux/actions/loginAction\";\nimport \"./AddTeacher.css\"\nimport axios from \"axios\";\nimport apis from \"../../../services/Apis\";\n\nclass AddTeacher extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name : \"\",\n      email : \"\",\n      password : \"\",\n      confirmpassword : \"\"\n    }\n  }\n\n  nameInputHandler = (event)=>{\n    this.setState({\n      ...this.state,\n      name : event.target.value\n    });\n  }\n\n  emailInputHandler = (event)=> {\n    this.setState({\n      ...this.state,\n      email : event.target.value\n    })\n  }\n\n  passwordInputHandler = (event)=> {\n    this.setState({\n      ...this.state,\n      password : event.target.value\n    })\n  }\n\n  confirmInputHandler = (event)=> {\n    this.setState({\n      ...this.state,\n      confirmpassword : event.target.value\n    })\n  }\n  \n  handleSubmit= (event) => {\n    event.preventDefault();\n    if(this.state.confirmpassword !== this.state.password) {\n      Alert('error','Invalid Input','Confirm Password does not match')  \n    }\n    console.log(this.state);\n    axios.post(apis.BASE + apis.ADD_TEACHER, {\n      username : this.state.name,\n      email : this.state.email,\n      password : this.state.password\n    },{\n      headers:{\n        'Authorization':`Bearer ${Auth.retriveToken()}`\n      }\n    }).then(response => {\n      console.log(response.data);\n      if(response.data.success) {\n        Alert('info','Success',response.data.message);\n      } else {\n        Alert('error','Failed',response.data.message);\n      }\n    })\n  }\n\n  render(){\n    if(!Auth.retriveToken() || Auth.retriveToken()==='undefined'){\n      return (<Navigate to='/'/>);\n    } else if(!this.props.user.isLoggedIn) {\n      this.props.getAdminDetails();\n      return (<div></div>)\n    }\n    return (\n      \n      <form onSubmit={this.handleSubmit} className=\"form-class\">\n        <h2>Add Teacher</h2>\n        <div>\n          <label> Name </label>\n          <input type='Text' value={this.state.name} onChange={this.nameInputHandler} required/>\n        </div>\n        <div>\n          <label> Email </label>\n          <input type='email' value={this.state.email} onChange={this.emailInputHandler} required/>\n        </div>\n        <div>\n          <label> Password </label>\n          <input type='password' value={this.state.password} onChange={this.passwordInputHandler} required/>\n        </div>\n        <div>\n          <label> Confirm Password </label>\n          <input type='password' value={this.state.confirmpassword} onChange={this.confirmInputHandler} required/>\n        </div>\n        <button type=\"submit\"> Add Teacher</button>\n        <br/>\n        <button> <Link className=\"linkbtn\" to='/home'>back</Link></button>\n      </form>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user:state.user\n});\n\nexport default connect(mapStateToProps,{\n  getAdminDetails\n})(AddTeacher);"]},"metadata":{},"sourceType":"module"}